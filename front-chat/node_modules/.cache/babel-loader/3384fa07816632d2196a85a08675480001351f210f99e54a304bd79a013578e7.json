{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nfunction useToken() {\n  _s();\n  const [token, setToken] = useState(null);\n  useEffect(() => {\n    const queryParams = new URLSearchParams(window.location.search);\n    const tokenFromUrl = queryParams.get('token');\n    if (tokenFromUrl) {\n      localStorage.setItem('token', tokenFromUrl);\n      setToken(tokenFromUrl);\n      window.history.replaceState({}, document.title, \"/\");\n    } else {\n      const savedToken = localStorage.getItem('token');\n      setToken(savedToken);\n    }\n  }, []);\n  return {\n    token,\n    setToken\n  };\n}\n_s(useToken, \"SSLzquenZQzOMzU62DrezfOo2pU=\");\nexport default useToken;","map":{"version":3,"names":["useState","useEffect","useToken","_s","token","setToken","queryParams","URLSearchParams","window","location","search","tokenFromUrl","get","localStorage","setItem","history","replaceState","document","title","savedToken","getItem"],"sources":["G:/webProj/front-chat/src/hooks/useToken.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\nfunction useToken() {\r\n    const [token, setToken] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const queryParams = new URLSearchParams(window.location.search);\r\n        const tokenFromUrl = queryParams.get('token');\r\n\r\n        if (tokenFromUrl) {\r\n            localStorage.setItem('token', tokenFromUrl);\r\n            setToken(tokenFromUrl);\r\n            window.history.replaceState({}, document.title, \"/\");\r\n        } else {\r\n            const savedToken = localStorage.getItem('token');\r\n            setToken(savedToken);\r\n        }\r\n    }, []);\r\n\r\n    return { token, setToken };\r\n}\r\n\r\nexport default useToken;\r\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAE3C,SAASC,QAAQA,CAAA,EAAG;EAAAC,EAAA;EAChB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGL,QAAQ,CAAC,IAAI,CAAC;EAExCC,SAAS,CAAC,MAAM;IACZ,MAAMK,WAAW,GAAG,IAAIC,eAAe,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC;IAC/D,MAAMC,YAAY,GAAGL,WAAW,CAACM,GAAG,CAAC,OAAO,CAAC;IAE7C,IAAID,YAAY,EAAE;MACdE,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEH,YAAY,CAAC;MAC3CN,QAAQ,CAACM,YAAY,CAAC;MACtBH,MAAM,CAACO,OAAO,CAACC,YAAY,CAAC,CAAC,CAAC,EAAEC,QAAQ,CAACC,KAAK,EAAE,GAAG,CAAC;IACxD,CAAC,MAAM;MACH,MAAMC,UAAU,GAAGN,YAAY,CAACO,OAAO,CAAC,OAAO,CAAC;MAChDf,QAAQ,CAACc,UAAU,CAAC;IACxB;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IAAEf,KAAK;IAAEC;EAAS,CAAC;AAC9B;AAACF,EAAA,CAlBQD,QAAQ;AAoBjB,eAAeA,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}