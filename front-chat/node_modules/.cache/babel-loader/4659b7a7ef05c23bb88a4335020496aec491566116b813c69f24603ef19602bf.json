{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nfunction useToken() {\n  _s();\n  const [token, setToken] = useState(() => {\n    // Отримання токена з локального сховища при початковій завантаженні\n    return localStorage.getItem('token');\n  });\n  useEffect(() => {\n    const queryParams = new URLSearchParams(window.location.search);\n    const tokenFromUrl = queryParams.get('token');\n    if (tokenFromUrl) {\n      localStorage.setItem('token', tokenFromUrl);\n      setToken(tokenFromUrl);\n      window.history.replaceState({}, document.title, \"/\");\n    }\n  }, []);\n  return {\n    token,\n    setToken\n  };\n}\n_s(useToken, \"SxrQODSYfkzUlb4JzBJOdxZuKoQ=\");\nexport default useToken;","map":{"version":3,"names":["useState","useEffect","useToken","_s","token","setToken","localStorage","getItem","queryParams","URLSearchParams","window","location","search","tokenFromUrl","get","setItem","history","replaceState","document","title"],"sources":["G:/webProj/front-chat/src/hooks/useToken.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\nfunction useToken() {\r\n    const [token, setToken] = useState(() => {\r\n        // Отримання токена з локального сховища при початковій завантаженні\r\n        return localStorage.getItem('token');\r\n    });\r\n\r\n    useEffect(() => {\r\n        const queryParams = new URLSearchParams(window.location.search);\r\n        const tokenFromUrl = queryParams.get('token');\r\n\r\n        if (tokenFromUrl) {\r\n            localStorage.setItem('token', tokenFromUrl);\r\n            setToken(tokenFromUrl);\r\n            window.history.replaceState({}, document.title, \"/\");\r\n        }\r\n    }, []);\r\n\r\n    return { token, setToken };\r\n}\r\n\r\nexport default useToken;\r\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAE3C,SAASC,QAAQA,CAAA,EAAG;EAAAC,EAAA;EAChB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGL,QAAQ,CAAC,MAAM;IACrC;IACA,OAAOM,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EACxC,CAAC,CAAC;EAEFN,SAAS,CAAC,MAAM;IACZ,MAAMO,WAAW,GAAG,IAAIC,eAAe,CAACC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC;IAC/D,MAAMC,YAAY,GAAGL,WAAW,CAACM,GAAG,CAAC,OAAO,CAAC;IAE7C,IAAID,YAAY,EAAE;MACdP,YAAY,CAACS,OAAO,CAAC,OAAO,EAAEF,YAAY,CAAC;MAC3CR,QAAQ,CAACQ,YAAY,CAAC;MACtBH,MAAM,CAACM,OAAO,CAACC,YAAY,CAAC,CAAC,CAAC,EAAEC,QAAQ,CAACC,KAAK,EAAE,GAAG,CAAC;IACxD;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IAAEf,KAAK;IAAEC;EAAS,CAAC;AAC9B;AAACF,EAAA,CAlBQD,QAAQ;AAoBjB,eAAeA,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}